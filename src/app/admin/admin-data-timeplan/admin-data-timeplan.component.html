
<form [formGroup]="timeplanForm" (change)="updateCanvasData()" (ngSubmit)="onSubmit()">
  <div class="newTimePlan">
    <div class="general">
      <h1>Nouvel Horaire</h1>
      <label>
        <h2>Intitulé</h2>
        <input type="text" class="time" formControlName="timeplanName" placeholder="Horaire personnalisé">
      </label>
      <label>
        <h2>Temps réglementaire</h2>
        <input type="time" class="time" formControlName="mandatoryTime" >
      </label>
    </div>
    <div class="time">
      <label>
        <h2>Début de la journée</h2>
        <input type="time" class="time" formControlName="startOfDay" >
      </label>
      <label>
        <h2>Début des cours</h2>
        <input type="time" class="time" formControlName="startMorning" >
      </label>
      <label>
        <h2>Début de la pause de midi</h2>
        <input type="time" class="time" formControlName="endMorning" >
      </label>
      <label>
        <h2>Fin de la pause de midi</h2>
        <input type="time" class="time" formControlName="startAfternoon" >
      </label>
      <label>
        <h2>Fin des cours</h2>
        <input type="time" class="time" formControlName="endAfternoon" >
      </label>
      <label>
        <h2>Fin de la journée</h2>
        <input type="time" class="time" formControlName="endOfDay" >
      </label>
    </div>

    <div class="canvas">
      <div id="p5-sketch"></div>
    </div>

    <div class="control">
      <button mat-fab color="warn" type="submit" [disabled]="!timeplanForm.valid">✚</button>
    </div>
  </div>
</form>
<br>
<mat-divider></mat-divider>
<h1>Horaires Existants</h1>
<div *ngFor="let timeplan of timeplans">
  <div class="dayPlan">
    <h3>{{timeplan.name}}</h3>
    <div class="time">
      <p>{{"startOfDay "+timeplan.startOfDay}}</p>
      <p>{{"endOfDay "+timeplan.endOfDay}}</p>
    </div>
    <div class="boundary">
    <p>{{"Début des cours: "+timeplan.data[0]}}</p>
    <p>{{"Début de la pause: "+timeplan.data[1]}}</p>
    <p>{{"Fin de la pause: "+timeplan.data[2]}}</p>
    <p>{{"Fin des cours: "+timeplan.data[3]}}</p>
    </div>
  </div>
</div>
